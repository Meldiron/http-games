---
title: Visualization
description: Understand the dungeon tiles and cartographer.
---

import { Accordion, Accordions } from "fumadocs-ui/components/accordion";

<Callout>
    If you haven't obtained a token yet, check out [Authentication](/docs/basics/authentication) documentation.
</Callout>

## Get cartographer position

In Grid Trap, the cartographer is your character navigating through the dungeon. To visualize the game state, you need to know where the cartographer is currently positioned and whether they have fallen into a trap.

To get the current position of your cartographer, send the following request:

```bash
curl \
  -X GET \
  -H 'Authorization: Bearer sk_Guei2HJgU...' \
  https://api.http-games.almostapps.eu/v1/games/grid-trap/dungeons/[YOUR_DUNGEON_ID]/cartographer
```

<Accordions type="single">
  <Accordion title="Response">
    ### Bad request (400)
      
    Dungeon ID you provided in path is invalid.
    
    ### Unauthorized (401)
    
    Error caused by missing or invalid token in authorization header.
    
    ### Forbidden (403)
    
    The dungeon has been created by another player.
    
    ### OK (200)
    
    Cartographer position and status are returned.
    
    ```json
    {
      "x": 0,
      "y": 0,
      "trapped": false
    }
    ```
  </Accordion>
</Accordions>

## List dungeon tiles

To visualize the entire dungeon layout, you need to retrieve information about all tiles. Each tile represents a position in the dungeon grid and has a specific type that determines what the cartographer will encounter there.

To get a list of all tiles in a dungeon, send the following request:

```bash
curl \
  -X GET \
  -H 'Authorization: Bearer sk_Guei2HJgU...' \
  https://api.http-games.almostapps.eu/v1/games/grid-trap/dungeons/[YOUR_DUNGEON_ID]/tiles
```

<AutoTypeTable name="AutoType" type='export interface AutoType {
    /**
    * Comma-separated list of X coordinates to filter tiles by. Must be integers between 0 and 1023.
    **/
    x?: string;

    /**
    * Comma-separated list of Y coordinates to filter tiles by. Must be integers between 0 and 1023.
    **/
    y?: string;
    
    /**
    * Comma-separated list of tile types to filter by. Allowed values are "wall", "ground", "enterance", "rope".
    **/
    type?: string;
    
    /**
    * Amount of tiles to be included in the response. Must be between 1 and 25.
    **/
    limit?: number;
    
    /**
    * Cursor for pagination. Must be a valid cursor returned by previous request.
    **/
    cursor?: string;
}' />

<Accordions type="single">
  <Accordion title="Response">
    ### Bad request (400)
      
    Search parameters are invalid, and response includes error details.
    
    ### Unauthorized (401)
    
    Error caused by missing or invalid token in authorization header.
    
    ### Forbidden (403)
    
    The dungeon has been created by another player.
    
    ### OK (200)
    
    List of tiles is returned.
    
    ```json
    {
      "total": 16,
      "cursorPrevious": "before:690a33..",
      "cursorNext": "after:68f0b9...",
      "tiles": [
        // Same as structure as getting a specific tile
      ]
    }
    ```
  </Accordion>
</Accordions>

### Tile Types

The dungeon contains several types of tiles:

- **`wall`**: Impassable barriers that block movement
- **`ground`**: Walkable areas that may have a hidden traps
- **`enterance`**: The starting position where the cartographer begins
- **`rope`**: The exit point that allows escape from the dungeon

As an example, if you wanted to get only the entrance and exit tiles, you could send:

```bash
curl \
  -X GET \
  -H 'Authorization: Bearer sk_Guei2HJgU...' \
  -d 'type=enterance,rope' \
  https://api.http-games.almostapps.eu/v1/games/grid-trap/dungeons/[YOUR_DUNGEON_ID]/tiles
```

This endpoint also supports pagination using `limit` and `cursor` parameters. Learn more about it in [pagination documentation](https://http-games.almostapps.eu/docs/basics/pagination).

## Get specific tile

<Callout>
    This section is optional and not required for first playthrough.
</Callout>

If you need information about a specific tile in the dungeon, you can retrieve it by its coordinates. This can be useful depending on implementation of your play. For instance, you might want to check if tile north of your player is a ground before moving there.

To get details about a specific tile, send the following request:

```bash
curl \
  -X GET \
  -H 'Authorization: Bearer sk_Guei2HJgU...' \
  https://api.http-games.almostapps.eu/v1/games/grid-trap/dungeons/[YOUR_DUNGEON_ID]/tiles/[X_Y]
```

The tile coordinates must be provided in the format `x_y`.

<Accordions type="single">
  <Accordion title="Response">
    ### Bad request (400)
      
    Dungeon ID or tile coordinates are invalid.
    
    ### Unauthorized (401)
    
    Error caused by missing or invalid token in authorization header.
    
    ### Forbidden (403)
    
    The dungeon has been created by another player.
    
    ### Not found (404)
    
    The specified tile does not exist in this dungeon.
    
    ### OK (200)
    
    Tile information is returned.
    
    ```json
    {
      "x": 2,
      "y": 3,
      "type": "ground"
    }
    ```
  </Accordion>
</Accordions>
